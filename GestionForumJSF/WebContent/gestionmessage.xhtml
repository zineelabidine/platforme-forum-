<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>User</title>
<link href="resources/bootstrap-4.3.1-dist/css/bootstrap.css"
    rel="stylesheet" />
<link href="resources/bootstrap-4.3.1-dist/css/custom-style.css"
    rel="stylesheet" />
     <ui:insert name="header">
		<ui:include src="headeruser.xhtml" />
	</ui:insert>
</head>
<h:body>
	<style type="text/css">
.logo {
	width: 5%
}

.detail {
	width: 95%;
	padding-left: 25px;
}

.detail td {
	font-size: 24px;
}
</style>

	<h2>Liste des messages</h2>
	<hr/>
	<h:form >

		<p:repeat value="#{controllerMessageBean.listemessage}" var="mes">
			<h:panelGrid columns="2" style="width:100%"
				columnClasses="logo,detail">
				<hr />
				<p:accordionPanel>
				<p:tab title="#{mes.object}">
					<h:panelGrid columns="2" cellpadding="10">
						<h:outputText value="#{mes.message}--ecrit par #{controllerMessageBean.recupererNomUser(mes.id)}" />
					</h:panelGrid>
				</p:tab>
				
			</p:accordionPanel>
			</h:panelGrid>
			<hr />
		</p:repeat>
		
<h2 align="center">Ajouter un message</h2>
	<table align="center">
			<tr>
				<td><h:outputLabel value="ID-User" /></td>
				<td><h:inputText
						value="#{controllerUserBean.userv.id}" /></td>
			</tr>
			<tr>
				<td><h:outputLabel value="ID-Discussion" /></td>
				<td><h:inputText
						value="#{controllerMessageBean.id_discussion}" /></td>
			</tr>
			
			<tr>
				<td><h:outputLabel value="Object: " /></td>
				<td><h:inputText
						value="#{controllerMessageBean.message.object}" /></td>
			</tr>
			
			<tr>
				<td><h:outputLabel value="Votre message: " /></td>
				<td><p:inputTextarea
						value="#{controllerMessageBean.message.message}" rows="6"
						cols="33" /></td>
			</tr>
			
		</table>
		<div align="center">
		<h:commandButton class="btn btn-success" value="Ajouter votre message"
			action="#{controllerMessageBean.createmessage}"  />
			</div>
	</h:form>
</h:body>
<hr/>
<div id="footer">
	<ui:insert name="footer">
		<ui:include src="footer.xhtml" />
	</ui:insert>
</div>
</html>